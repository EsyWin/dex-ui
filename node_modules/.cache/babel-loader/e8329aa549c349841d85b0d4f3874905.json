{"ast":null,"code":"var _jsxFileName = \"/home/dev/Code/dex-ui/src/components/DeprecatedMarketsInstructions.js\";\nimport { Button, Divider, Spin, Typography } from 'antd';\nimport React from 'react';\nimport { useGetOpenOrdersForDeprecatedMarkets, useBalancesForDeprecatedMarkets, useUnmigratedOpenOrdersAccounts } from '../utils/markets';\nimport FloatingElement from './layout/FloatingElement';\nimport CheckOutlined from '@ant-design/icons/lib/icons/CheckOutlined';\nimport BalancesTable from './UserInfoTable/BalancesTable';\nimport Link from './Link';\nimport OpenOrderTable from './UserInfoTable/OpenOrderTable';\nimport SyncOutlined from '@ant-design/icons/lib/icons/SyncOutlined';\nconst {\n  Title\n} = Typography;\nexport default function DeprecatedMarketsInstructions({\n  switchToLiveMarkets\n}) {\n  const balances = useBalancesForDeprecatedMarkets();\n  const {\n    openOrders,\n    loaded,\n    refreshOpenOrders\n  } = useGetOpenOrdersForDeprecatedMarkets();\n  const {\n    refresh\n  } = useUnmigratedOpenOrdersAccounts();\n  const needToCancelOrders = !openOrders || openOrders.length > 0;\n  const filteredBalances = balances && balances.filter(({\n    orders,\n    unsettled\n  }) => orders > 0 || unsettled > 0);\n  const needToSettleFunds = filteredBalances && filteredBalances.length > 0;\n  return /*#__PURE__*/React.createElement(FloatingElement, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    level: 4,\n    style: {\n      color: 'rgba(255, 255, 255, 1)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, \"Migrate to new USDC markets\"), /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    external: true,\n    to: 'https://solscan.io/address/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, \"Native USDC\"), ' ', \"has arrived on Solana! See\", ' ', /*#__PURE__*/React.createElement(Link, {\n    external: true,\n    to: 'https://www.circle.com/blog/circle-partners-with-alameda-research-ftx-project-serum-to-introduce-support-for-usdc-on-solana',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"Circle's announcement\"), ' ', \"for more information.\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, \"Serum is transitioning from the previous\", ' ', /*#__PURE__*/React.createElement(Link, {\n    external: true,\n    to: 'https://solscan.io/address/BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Wrapped USDC\"), \", now called WUSDC, to Native USDC. You can convert from WUSDC to USDC directly on\", ' ', /*#__PURE__*/React.createElement(Link, {\n    external: true,\n    to: 'https://sollet.io',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \"sollet.io\"), \", or can deposit WUSDC and be credited USDC on exchanges like\", ' ', /*#__PURE__*/React.createElement(Link, {\n    external: true,\n    to: 'https://ftx.com',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, \"FTX\"), \".\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, \"Markets with WUSDC as the quote curency are now deprecated. To migrate over to the new USDC markets, please cancel your orders and settle your funds on old markets.\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: 20,\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => refresh(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SyncOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }), \" Refresh data\")), !balances ? /*#__PURE__*/React.createElement(Spin, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, !needToCancelOrders && /*#__PURE__*/React.createElement(CheckOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 37\n    }\n  }), \" Cancel your orders\"), needToCancelOrders ? loaded ? /*#__PURE__*/React.createElement(OpenOrderTable, {\n    openOrders: openOrders,\n    onCancelSuccess: () => {\n      setTimeout(() => {\n        refresh();\n        refreshOpenOrders();\n      }, 1000); // Wait so that on-chain account state reflects the update\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }) : /*#__PURE__*/React.createElement(Spin, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }) : null, /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, !needToSettleFunds && /*#__PURE__*/React.createElement(CheckOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 36\n    }\n  }), \" Settle your funds\"), needToSettleFunds && /*#__PURE__*/React.createElement(BalancesTable, {\n    balances: filteredBalances,\n    hideWalletBalance: true,\n    showMarket: true,\n    onSettleSuccess: () => {\n      setTimeout(refresh, 1000); // Wait so that on-chain account state reflects the update\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, \"Switch to upgraded markets\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: switchToLiveMarkets,\n    disabled: needToSettleFunds || needToCancelOrders,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, \"Switch to new markets\"))));\n}","map":{"version":3,"sources":["/home/dev/Code/dex-ui/src/components/DeprecatedMarketsInstructions.js"],"names":["Button","Divider","Spin","Typography","React","useGetOpenOrdersForDeprecatedMarkets","useBalancesForDeprecatedMarkets","useUnmigratedOpenOrdersAccounts","FloatingElement","CheckOutlined","BalancesTable","Link","OpenOrderTable","SyncOutlined","Title","DeprecatedMarketsInstructions","switchToLiveMarkets","balances","openOrders","loaded","refreshOpenOrders","refresh","needToCancelOrders","length","filteredBalances","filter","orders","unsettled","needToSettleFunds","color","marginTop","display","justifyContent","setTimeout"],"mappings":"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","sourcesContent":["import { Button, Divider, Spin, Typography } from 'antd';\r\nimport React from 'react';\r\nimport {\r\n  useGetOpenOrdersForDeprecatedMarkets,\r\n  useBalancesForDeprecatedMarkets,\r\n  useUnmigratedOpenOrdersAccounts,\r\n} from '../utils/markets';\r\nimport FloatingElement from './layout/FloatingElement';\r\nimport CheckOutlined from '@ant-design/icons/lib/icons/CheckOutlined';\r\nimport BalancesTable from './UserInfoTable/BalancesTable';\r\nimport Link from './Link';\r\nimport OpenOrderTable from './UserInfoTable/OpenOrderTable';\r\nimport SyncOutlined from '@ant-design/icons/lib/icons/SyncOutlined';\r\n\r\nconst { Title } = Typography;\r\n\r\nexport default function DeprecatedMarketsInstructions({ switchToLiveMarkets }) {\r\n  const balances = useBalancesForDeprecatedMarkets();\r\n  const { openOrders, loaded, refreshOpenOrders } =\r\n    useGetOpenOrdersForDeprecatedMarkets();\r\n\r\n  const { refresh } = useUnmigratedOpenOrdersAccounts();\r\n  const needToCancelOrders = !openOrders || openOrders.length > 0;\r\n  const filteredBalances =\r\n    balances &&\r\n    balances.filter(({ orders, unsettled }) => orders > 0 || unsettled > 0);\r\n  const needToSettleFunds = filteredBalances && filteredBalances.length > 0;\r\n  return (\r\n    <FloatingElement>\r\n      <Title level={4} style={{ color: 'rgba(255, 255, 255, 1)' }}>\r\n        Migrate to new USDC markets\r\n      </Title>\r\n      <Typography>\r\n        <Link\r\n          external\r\n          to={\r\n            'https://solscan.io/address/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v'\r\n          }\r\n        >\r\n          Native USDC\r\n        </Link>{' '}\r\n        has arrived on Solana! See{' '}\r\n        <Link\r\n          external\r\n          to={\r\n            'https://www.circle.com/blog/circle-partners-with-alameda-research-ftx-project-serum-to-introduce-support-for-usdc-on-solana'\r\n          }\r\n        >\r\n          Circle's announcement\r\n        </Link>{' '}\r\n        for more information.\r\n      </Typography>\r\n      <br />\r\n      <Typography>\r\n        Serum is transitioning from the previous{' '}\r\n        <Link\r\n          external\r\n          to={\r\n            'https://solscan.io/address/BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW'\r\n          }\r\n        >\r\n          Wrapped USDC\r\n        </Link>\r\n        , now called WUSDC, to Native USDC. You can convert from WUSDC to USDC\r\n        directly on{' '}\r\n        <Link external to={'https://sollet.io'}>\r\n          sollet.io\r\n        </Link>\r\n        , or can deposit WUSDC and be credited USDC on exchanges like{' '}\r\n        <Link external to={'https://ftx.com'}>\r\n          FTX\r\n        </Link>\r\n        .\r\n      </Typography>\r\n      <br />\r\n      <Typography>\r\n        Markets with WUSDC as the quote curency are now deprecated. To migrate\r\n        over to the new USDC markets, please cancel your orders and settle your\r\n        funds on old markets.\r\n      </Typography>\r\n      <div style={{ marginTop: 20, display: 'flex', justifyContent: 'center' }}>\r\n        <Button onClick={() => refresh(true)}>\r\n          <SyncOutlined /> Refresh data\r\n        </Button>\r\n      </div>\r\n      {!balances ? (\r\n        <Spin size=\"large\" />\r\n      ) : (\r\n        <>\r\n          <Divider>\r\n            {!needToCancelOrders && <CheckOutlined />} Cancel your orders\r\n          </Divider>\r\n          {needToCancelOrders ? (\r\n            loaded ? (\r\n              <OpenOrderTable\r\n                openOrders={openOrders}\r\n                onCancelSuccess={() => {\r\n                  setTimeout(() => {\r\n                    refresh();\r\n                    refreshOpenOrders();\r\n                  }, 1000); // Wait so that on-chain account state reflects the update\r\n                }}\r\n              />\r\n            ) : (\r\n              <Spin size=\"large\" />\r\n            )\r\n          ) : null}\r\n          <Divider>\r\n            {!needToSettleFunds && <CheckOutlined />} Settle your funds\r\n          </Divider>\r\n          {needToSettleFunds && (\r\n            <BalancesTable\r\n              balances={filteredBalances}\r\n              hideWalletBalance\r\n              showMarket\r\n              onSettleSuccess={() => {\r\n                setTimeout(refresh, 1000); // Wait so that on-chain account state reflects the update\r\n              }}\r\n            />\r\n          )}\r\n          <Divider>Switch to upgraded markets</Divider>\r\n          <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n            <Button\r\n              onClick={switchToLiveMarkets}\r\n              disabled={needToSettleFunds || needToCancelOrders}\r\n            >\r\n              Switch to new markets\r\n            </Button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </FloatingElement>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}